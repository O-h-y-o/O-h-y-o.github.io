# AWS route53으로 DNS 연결하기

route53은 AWS에서 제공하는 DNS 입니다.

일반 DNS와 route53은 어떤 차이점이 있을지와 특징을 알아보겠습니다.
우선 DNS의 동작 방식은, 도메인을 IP로 변환하여 IP 네트워크와 통신하여 목적지 IP를 찾아가는 과정입니다.

1. 일반적으로는 도메인 등록시에 네임서버가 지정되는데, Route53은 할당받은 네임서버를 도메인 등록한 곳에 접속하여 할당받은 네임서버를 지정해주어야합니다.
2. Route53은 Public Host Zone과 Private Host Zone이 있습니다. Public Host Zone은 일반 네임서버로 동작하며, Private Host Zone은 AWS내에서만 동작합니다.
3. 도메인 자체에 대해 ALIAS 를 줄 수 있습니다.
   dns.com을 예시로, 도메인 자체에 대한 ALIAS Target을 www.dns.com 으로 줄 수 있습니다. 같은 IP응답을 주게 가능합니다. www의 아이피를 바꾸면 dns.com의 ip도 같이 바뀌게 됩니다.
4. 특정 포트에 대해 모니터링이 가능합니다. 상태검사 탭에서 모니터링을 원하는 포트를 지정해주면 모니터링이 가능해집니다.
5. 네트워크 장비인 넷스케일러, 파운드리, 파이오링크와 같이 Failover를 해주는 기능이 있습니다. 여기서 Failover란 장애 대비 기능을 말합니다. 시스템에 장애가 오면 미리 준비했던 다른 시스템으로 대체해서 운영해주는 것입니다.
6. GSLB(Global Server Load Balancing)로 인해 지역에 상관 없이 부하를 분산해주는 기능을 제공해줍니다. 특정 IDC에 의존적이지 않게, 지역과 나라에 무관하게 Load Balancing이 가능해집니다. 상세하게는 Failover, Act-Act(트래픽조절), 지역별 유입 트래픽조절 세가지 기능을 제공해줍니다.

::: info 장점

GUI를 제공합니다.
네임서버 자체 안정성이 높아집니다. Anycast Network + 4개의 네임서버 + ddos로부터의 안전 => 가용성 100% 제공
글로벌 서비스가 가능해집니다. => GSLB를 이용한 속도 개선이 가능합니다.

:::

::: tip

S3버킷 이름과 구입한 도메인의 이름은 같아야합니다.

:::

1. AWS Route53 으로 들어갑니다.
2. AWS에서 도메인을 구매하여 사용하려면 `도메인 등록` 에서 도메인 이름을 입력하고 원하는 도메인을 구매해줍니다. 아니면 가비아 같은 타 호스팅 사이트에서 구매해도 됩니다.
3. `호스팅 영역` 으로 들어가서 `호스팅 영역 생성` 을 눌러줍니다.
4. 구매한 도메인 이름을 입력하고, 호스팅 영역 생성을 합니다.
5. 네임서버 4가지가 있을텐데 이것들을 구매한 도메인의 네임서버 설정을 해줍니다. 순서대로 1차 2차 3차 4차에 입력해주고 저장해줍니다.
   여기서 맨끝의 .들은 빼주어야합니다.
6. 다시 route53으로 돌아와서, `레코드 생성` 을 눌러주고 `별칭` 스위치를 on 해줍니다.
7. 엔드포인트를 `S3 웹 사이트 엔드포인트에 대한 별칭` 을 선택해줍니다.
8. region 은 아시아 태평양 서울 (ap-northeast-2) 을 선택해줍니다.
   s3버킷을 생성할때 선택한 region을 선택하면 됩니다.
9. S3 엔드포인트 입력에는 `s3-website.ap-northeast-2.amazonaws.com` 를 넣어줍니다.
10. 조금 기다린 뒤 http://domain.com 을 들어가면 페이지를 볼 수 있습니다.
