# Route53으로 EB 프로젝트 도메인 연결하기

[# Elastic Beanstalk + Github actions 로 nodejs 배포하기](https://o-h-y-o.github.io/ko/deploy-elastic-beanstalk)

EB 세팅이 안되어있다면 해당 포스팅을 읽어주세요.

[AWS route53으로 DNS 연결하기](https://o-h-y-o.github.io/ko/route53)

해당 포스팅의 Route53 세팅 1~6번과 동일합니다. 7번부터는 달라집니다.

1. AWS Route53 으로 들어갑니다.
2. AWS에서 도메인을 구매하여 사용하려면 `도메인 등록` 에서 도메인 이름을 입력하고 원하는 도메인을 구매해줍니다. 아니면 가비아 같은 타 호스팅 사이트에서 구매해도 됩니다.
3. `호스팅 영역` 으로 들어가서 `호스팅 영역 생성` 을 눌러줍니다.
4. 구매한 도메인 이름을 입력하고, 호스팅 영역 생성을 합니다.
5. 네임서버 4가지가 있을텐데 이것들을 구매한 도메인의 네임서버 설정을 해줍니다. 순서대로 1차 2차 3차 4차에 입력해주고 저장해줍니다.
   여기서 맨끝의 .들은 빼주어야합니다.
6. 다시 route53으로 돌아와서, `레코드 생성` 을 눌러주고 `별칭` 스위치를 on 해줍니다.

7. 순서대로 선택해주세요. 리전은 원하시는것을 선택하시면 됩니다.
   `Application/Classic Load Balancer에 대한 별칭` , `아시아 태평양(서울)` , `로드 밸런서 선택`
   고가용성을 선택하지 않았다면 로드밸런서 선택란에 아무것도 없을 수 있습니다. EB 콘솔에서 환경 => 구성 => 인스턴스 트래픽 및 크기 조정 편집 => 용량 => 환경 유형 => 밸런싱된 로드 로 변경해주세요.
8. 레코드 생성 버튼을 눌러 레코드를 생성해주세요.
9. `Certificate Manager` 에서 SSL 인증서를 발급해주세요. 발급받은 ID를 클릭하여 `Route53에서 레코드 생성`을 눌러 레코드를 생성해주세요. SSL 인증이 완료될때까지 기다려주세요.
10. `인스턴스 트래픽 및 크기 조정 편집`으로 다시 돌아가 `리스너` 항목을 찾아 `리스너 추가` 버튼을 클릭해주세요.
11. `프로세스` 에서도 `프로세스 추가` 버튼을 눌러 적절한 고유값 이름을 적어주고 HTTPS 선택, 포트는 443을 적어주고 저장을 해주세요.
12. `리스너 프로토콜`을 https로 변경하고 리스너 포트는 `443`, 방금 만든 SSL 인증서를 선택해주고 SSL 정책은 `ELBSecurityPolicy-2016-08` 제일 위에 있는 항목을 선택하고 추가를 눌러주세요.
13. 맨 하단으로 내려가 적용 을 눌러주세요. 앱이 다시 배포가 될때까지 기다려주세요.

이제 자신의 도메인으로 접속할 수 있는걸 확인해주세요.
