import{g as z,h as f,r as h,H as x,I as m,o as $,c as S,e as d,w,J as k,K as E,L as X}from"./app-4bdd5bd9.js";import{_ as Y}from"./plugin-vue_export-helper-c27b6911.js";const B=z({__name:"MoveCard",props:{minWidth:{type:Number,default:320},minHeight:{type:Number,default:320}},emits:["controlIndex"],setup(y,{emit:H}){const g=y,v=f(),p=f(),e=f({minWidth:g.minWidth,minHeight:g.minHeight,width:0,height:0,x:0,y:0,previousWidth:0,previousHeight:0,previousX:0,previousY:0,zIndex:0,edgeCursor:""}),i=f(-1),_=()=>{e.value.previousX=e.value.x,e.value.previousY=e.value.y,e.value.previousWidth=v.value.clientWidth,e.value.previousHeight=v.value.clientHeight},C=u=>{const t=v.value.getBoundingClientRect(),s=15,{x:o,y:a}=u,l=Math.abs(t.top-a)<s,n=Math.abs(t.top+t.height-a)<s,r=o<t.left+s,c=o>t.right-s;return l&&r?0:l&&c?1:n&&c?2:n&&r?3:l?4:c?5:n?6:r?7:-1},M=u=>{const t=C(u);t===0||t===2?e.value.edgeCursor="nwse-resize":t===1||t===3?e.value.edgeCursor="nesw-resize":t===4||t===6?e.value.edgeCursor="ns-resize":t===5||t===7?e.value.edgeCursor="ew-resize":e.value.edgeCursor=""},q=({evt:u,...t})=>{if(t.isFirst?(p.value=!0,_(),i.value=C(u)):t.isFinal&&(p.value=!1),i.value<0)return;const{x:s,y:o}=t.offset,{previousWidth:a,previousHeight:l}=e.value;i.value===0?(e.value.width=a-s,e.value.height=l-o):i.value===1?(e.value.width=a+s,e.value.height=l-o):i.value===2?(e.value.width=a+s,e.value.height=l+o):i.value===3?(e.value.width=a-s,e.value.height=l+o):i.value===4?e.value.height=l-o:i.value===5?e.value.width=a+s:i.value===6?e.value.height=l+o:i.value===7&&(e.value.width=a-s);const n=(i.value<4||i.value===5||i.value===7)&&e.value.width>=e.value.minWidth,r=(i.value<4||i.value===4||i.value===6)&&e.value.height>=e.value.minHeight;n&&(e.value.x=e.value.previousX+s/2),r&&(e.value.y=e.value.previousY+o/2)},W=({evt:u,...t})=>{t.isFirst?(p.value=!0,_()):t.isFinal&&(p.value=!1);const{x:s,y:o}=t.offset;e.value.x=e.value.previousX+s,e.value.y=e.value.previousY+o},b=()=>{H("controlIndex",v.value)};return(u,t)=>{const s=h("q-space"),o=h("q-btn"),a=h("q-card-section"),l=h("q-separator"),n=h("q-card"),r=x("touch-pan"),c=x("close-popup");return m(($(),S("div",{class:"pa-10 relative-position",style:E([{left:`${e.value.x}px`,top:`${e.value.y}px`,width:`${e.value.width}px`,height:`${e.value.height}px`,minWidth:`${e.value.minWidth}px`,minHeight:`${e.value.minHeight}px`,cursor:e.value.edgeCursor},{"max-width":"initial"}]),ref_key:"moveCard",ref:v,onMousemove:M},[d(n,{style:{cursor:"initial"},class:"full-width full-height",onMousemove:t[0]||(t[0]=k(()=>{},["stop"])),onMouseenter:b},{default:w(()=>[d(a,{class:"pa-3 row"},{default:w(()=>[m(d(s,null,null,512),[[r,W,void 0,{prevent:!0,mouse:!0}]]),m(d(o,{icon:"close",flat:"",dense:""},null,512),[[c]])]),_:1}),d(l),X(u.$slots,"default")]),_:3})],36)),[[r,q,void 0,{prevent:!0,mouse:!0}]])}}}),N=Y(B,[["__file","MoveCard.vue"]]);export{N as default};
